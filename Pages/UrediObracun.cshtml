@page "{id:int}"
@model TBP_enterprises.Pages.UrediObracunModel
@{
    ViewData["Title"] = "Uredi obračun";
}

<h1>@ViewData["Title"]</h1>

<div class="form-container">
    <form method="post">
        <div class="form-group">
            <label for="zaposlenik">Zaposlenik:</label>
            <select id="zaposlenik" name="Id_zaposlenik" class="custom-dropdown" required>
                @foreach (var zaposlenik in Model.Zaposlenici)
                {
                    <option value="@zaposlenik.Id" selected="@(zaposlenik.Id == Model.Obracun.Id_zaposlenik ? "selected" : "")">
                        @zaposlenik.Ime @zaposlenik.Prezime
                    </option>
                }
            </select>
        </div>
        <div class="form-group">
            <label for="projekt">Projekt:</label>
            <select id="projekt" name="Id_projekt" class="custom-dropdown" required>
                @foreach (var projekt in Model.Projekti)
                {
                    <option value="@projekt.Id" selected="@(projekt.Id == Model.Obracun.Id_projekt ? "selected" : "")">
                        @projekt.Naziv
                    </option>
                }
            </select>
        </div>
        <div class="form-group">
            <label for="datum_obracuna">Datum obračuna:</label>
            <input type="date" id="datum_obracuna" name="Datum_obracuna" value="@Model.Obracun.Datum_obracuna.ToString("yyyy-MM-dd")" required />
        </div>
        <div class="form-group">
            <label for="ukupni_trosak">Ukupni trošak (EUR):</label>
            <input type="number" id="ukupni_trosak" name="Ukupni_trosak" value="@Model.Obracun.Ukupni_trosak.ToString("F2")" step="0.01" required />
        </div>
        <div class="form-buttons">
            <button type="submit" class="btn btn-green">Spremi promjene</button>
            <button type="submit" formaction="?handler=Obrisi" formmethod="post" class="btn btn-red">Obriši</button>
            <a href="/Obracuni" class="btn btn-blue">Odustani</a>
        </div>
    </form>
</div>